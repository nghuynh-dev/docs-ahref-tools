# ğŸ“Š HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng Extension Ahrefs Data Scraper

## ğŸ¯ Chá»©c NÄƒng ChÃ­nh
Extension giÃºp báº¡n trÃ­ch xuáº¥t dá»¯ liá»‡u tá»« báº£ng Ahrefs vá»›i cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao:

### ğŸ“Š Dá»¯ liá»‡u cÃ o Ä‘Æ°á»£c:
- **Target** (TÃªn miá»n)
- **DR** (Domain Rating)
- **RD** (Referring Domains) 
- **Top 20** (Tá»« khÃ³a trong top 20)
- **Organic Traffic** (LÆ°á»£ng truy cáº­p tá»± nhiÃªn)
- **Keywords** (Sá»‘ tá»« khÃ³a)

### ğŸš€ TÃ¹y chá»n xuáº¥t:
- **ğŸ“ File Excel/CSV** - Táº£i vá» mÃ¡y
- **ğŸ“ˆ Google Sheets** - Upload trá»±c tiáº¿p vá»›i OAuth
- **ğŸ¨ Conditional Formatting** - TÃ´ mÃ u tá»± Ä‘á»™ng theo Ä‘iá»u kiá»‡n

### ğŸ¯ TÃ­nh nÄƒng Ä‘áº·c biá»‡t:
- **ğŸ’° PhÃ¢n tÃ­ch giÃ¡ Traffic** - So sÃ¡nh vá»›i báº£ng giÃ¡ chuáº©n
- **ğŸ’± Tá»‰ giÃ¡ tÃ¹y chá»‰nh** - Quy Ä‘á»•i USD/VND (máº·c Ä‘á»‹nh: 26.500)
- **ğŸ“… Chá»n ngÃ y upload** - Linh hoáº¡t thá»i gian
- **ğŸ§¹ LÃ m sáº¡ch dá»¯ liá»‡u** - Loáº¡i bá» trÃ¹ng láº·p vÃ  domain khÃ´ng há»£p lá»‡

## ğŸš€ CÃ i Äáº·t Extension

### BÆ°á»›c 1: Chuáº©n bá»‹
1. Má»Ÿ Chrome browser
2. Äáº£m báº£o cÃ³ quyá»n "Developer mode"

### BÆ°á»›c 2: Load Extension
1. GÃµ `chrome://extensions/` vÃ o thanh Ä‘á»‹a chá»‰
2. Báº­t **"Developer mode"** (gÃ³c trÃªn bÃªn pháº£i)
3. Click nÃºt **"Load unpacked"**
4. Chá»n thÆ° má»¥c `ahref-extension`
5. Extension sáº½ xuáº¥t hiá»‡n vá»›i icon trong thanh cÃ´ng cá»¥

### BÆ°á»›c 3: Kiá»ƒm tra
- Tháº¥y icon "Ahrefs Data Scraper" trong thanh extensions
- Click vÃ o sáº½ hiá»‡n popup vá»›i nÃºt "Scrape Data & Export to Excel"

## ğŸ“ CÃ¡ch Sá»­ Dá»¥ng

### BÆ°á»›c 1: VÃ o trang Ahrefs
- Truy cáº­p `https://ahrefs.com`
- Hoáº·c báº¥t ká»³ subdomain nÃ o: `app.ahrefs.com`, `site-explorer.ahrefs.com`
- VÃ o trang cÃ³ **báº£ng dá»¯ liá»‡u** (Site Explorer, Keywords Explorer...)

### BÆ°á»›c 2: Cáº¥u hÃ¬nh tÃ¹y chá»n (náº¿u cáº§n)
1. **NgÃ y Upload**: Máº·c Ä‘á»‹nh hÃ´m nay, cÃ³ thá»ƒ chá»n ngÃ y khÃ¡c
2. **Tá»‰ giÃ¡ USD/VND**: Máº·c Ä‘á»‹nh 26.500, cÃ³ thá»ƒ Ä‘iá»u chá»‰nh
3. **Column Mapping**: Cáº¥u hÃ¬nh trong tab "Google Sheets" (náº¿u dÃ¹ng Sheets)

### BÆ°á»›c 3: Scrape dá»¯ liá»‡u
1. **Click icon extension** trÃªn thanh cÃ´ng cá»¥
2. **Click "CÃ o Dá»¯ Liá»‡u"** - extension sáº½ phÃ¢n tÃ­ch trang
3. Chá» extension xá»­ lÃ½ (nÃºt sáº½ hiá»‡n "Äang cÃ o...")
4. ThÃ´ng bÃ¡o thÃ nh cÃ´ng hiá»‡n ra vá»›i sá»‘ báº£n ghi tÃ¬m tháº¥y

### BÆ°á»›c 4: Chá»n hÃ nh Ä‘á»™ng
**TÃ¹y chá»n 1: Táº£i file Excel**
- Click **"Táº£i file Excel"**
- File CSV tá»± Ä‘á»™ng download vá»›i tÃªn: `ahrefs_data_YYYY-MM-DD.csv`

**TÃ¹y chá»n 2: Upload Google Sheets**
- Click **"Upload lÃªn Google Sheets"**
- Dá»¯ liá»‡u Ä‘Æ°á»£c upload vá»›i conditional formatting tá»± Ä‘á»™ng

## ğŸ”§ Xá»­ LÃ½ Lá»—i

### Lá»—i: "Please navigate to an Ahrefs page first"
**NguyÃªn nhÃ¢n:** KhÃ´ng á»Ÿ trang ahrefs.com
**Giáº£i phÃ¡p:** VÃ o trang ahrefs.com trÆ°á»›c khi sá»­ dá»¥ng

### Lá»—i: "Ahrefs table not found on this page" 
**NguyÃªn nhÃ¢n:** Trang khÃ´ng cÃ³ báº£ng dá»¯ liá»‡u
**Giáº£i phÃ¡p:** VÃ o trang cÃ³ báº£ng data (Site Explorer, Keywords...)

### Lá»—i: "No data found on this page"
**NguyÃªn nhÃ¢n:** Báº£ng trá»‘ng hoáº·c chÆ°a load xong
**Giáº£i phÃ¡p:** 
- Chá» trang load hoÃ n toÃ n
- Refresh trang vÃ  thá»­ láº¡i

### Lá»—i: "Error occurred while scraping data"
**NguyÃªn nhÃ¢n:** Lá»—i extension hoáº·c trang Ä‘Ã£ thay Ä‘á»•i
**Giáº£i phÃ¡p:**
- Reload extension: `chrome://extensions/` â†’ Reload
- Refresh trang Ahrefs
- Thá»­ láº¡i

## ğŸ“‹ Format File Xuáº¥t Ra

File CSV cÃ³ cáº¥u trÃºc:
```
Target,DR,Keywords,Top 20,Organic Traffic,Referring domains
example.com,75,1234,257,12.5K,445
domain.net,82,2156,457,23.8K,678
```

## ğŸ’¡ Tips Sá»­ Dá»¥ng

1. **Äá»£i trang load xong** trÆ°á»›c khi scrape
2. **CÃ³ thá»ƒ scrape nhiá»u láº§n** trÃªn cÃ¹ng trang
3. **File tá»± Ä‘á»™ng Ä‘áº·t tÃªn** theo ngÃ y thÃ¡ng
4. **Há»— trá»£ táº¥t cáº£ subdomain** cá»§a Ahrefs
5. **Dá»¯ liá»‡u má»Ÿ Ä‘Æ°á»£c báº±ng Excel** hoáº·c Google Sheets

## ğŸ”’ Báº£o Máº­t & Quyá»n

Extension chá»‰ yÃªu cáº§u quyá»n:
- âœ… `activeTab`: Truy cáº­p tab hiá»‡n táº¡i
- âœ… `storage`: LÆ°u settings
- âœ… `downloads`: Download file CSV
- âœ… `ahrefs.com`: Chá»‰ hoáº¡t Ä‘á»™ng trÃªn Ahrefs

**KhÃ´ng thu tháº­p dá»¯ liá»‡u cÃ¡ nhÃ¢n hay gá»­i data ra ngoÃ i.**

## ğŸ“ˆ Google Sheets Integration

[//]: # (### Setup Google Sheets &#40;Láº§n Ä‘áº§u&#41;)

[//]: # (1. **Táº¡o OAuth Client ID** - Theo hÆ°á»›ng dáº«n trong [OAUTH-SETUP-GUIDE.md]&#40;OAUTH-SETUP-GUIDE.md&#41;)

[//]: # (2. **Cáº¥u hÃ¬nh Extension**:)

[//]: # (   - Tab "Google Sheets" â†’ Nháº­p Spreadsheet ID)

[//]: # (   - Cáº¥u hÃ¬nh Column Mapping &#40;DR, RD, Top20, Traffic, Keywords&#41;)

[//]: # (   - Paste OAuth Client ID)

[//]: # (3. **Authorize Account** - Click "XÃ¡c Thá»±c Google Account")

[//]: # (4. **Test Connection** - Kiá»ƒm tra káº¿t ná»‘i)

### Column Mapping (Thá»© tá»± má»›i)
- **AK**: DR (Domain Rating)
- **AL**: RD (Referring Domains)  
- **AM**: Top 20 (Keywords trong top 20)
- **AN**: Traffic (Organic Traffic)
- **AO**: Keywords (Tá»•ng sá»‘ keywords)

## ğŸŒˆ Conditional Formatting

### Quy táº¯c tÃ´ mÃ u tá»± Ä‘á»™ng:
1. **DR**: â‰¥ 10 ğŸŸ¢ | < 10 ğŸ”´
2. **RD**: â‰¥ 50 ğŸŸ¢ | < 50 ğŸ”´  
3. **Top 20**: > 1 ğŸŸ¢ | â‰¤ 1 ğŸ”´
4. **Traffic**: GiÃ¡ â‰¤ Expected ğŸŸ¢ | GiÃ¡ > Expected ğŸ”´

### Báº£ng giÃ¡ Traffic (vá»›i tá»‰ giÃ¡ 26.500):
| Traffic | GiÃ¡ USD | GiÃ¡ VND | Káº¿t quáº£ |
|---------|---------|---------|---------|
| < 10k | â‰¤ $45 | â‰¤ 1.192.500 | ğŸŸ¢ |
| 10k-20k | â‰¤ $65 | â‰¤ 1.722.500 | ğŸŸ¢ |
| 20k-50k | â‰¤ $110 | â‰¤ 2.915.000 | ğŸŸ¢ |
| 50k-100k | â‰¤ $130 | â‰¤ 3.445.000 | ğŸŸ¢ |
| 100k-500k | â‰¤ $180 | â‰¤ 4.770.000 | ğŸŸ¢ |

## ğŸ§¹ Data Cleaning

Extension cÃ³ tab "Clean Data" Ä‘á»ƒ lÃ m sáº¡ch danh sÃ¡ch domain:

### TÃ­nh nÄƒng:
- âœ… Loáº¡i bá» protocol (http://, https://)
- âœ… XÃ³a trailing slashes
- âœ… Remove duplicates
- âœ… Lá»c domain khÃ´ng há»£p lá»‡
- âœ… Chuáº©n hÃ³a format

### CÃ¡ch sá»­ dá»¥ng:
1. Tab "Clean Data"
2. Paste danh sÃ¡ch domain vÃ o Ã´ input
3. Click "Clean & Remove Duplicates"
4. Copy káº¿t quáº£ Ä‘Ã£ lÃ m sáº¡ch

## âš™ï¸ Tabs Extension

Extension cÃ³ 3 tabs chÃ­nh:

### ğŸ¯ Tab "Scrape Data"
- CÃ o dá»¯ liá»‡u tá»« Ahrefs
- Cáº¥u hÃ¬nh ngÃ y upload vÃ  tá»‰ giÃ¡
- Táº£i Excel hoáº·c Upload Google Sheets

### ğŸ§¹ Tab "Clean Data"  
- LÃ m sáº¡ch danh sÃ¡ch domain
- Loáº¡i bá» trÃ¹ng láº·p
- Chuáº©n hÃ³a format

### âš™ï¸ Tab "Google Sheets"
- Cáº¥u hÃ¬nh OAuth vÃ  Spreadsheet
- Column mapping
- Test connection

## ğŸ”§ Troubleshooting Google Sheets

### "OAuth client not found"
- Kiá»ƒm tra Client ID Ä‘Ãºng format
- Äáº£m báº£o Extension ID chÃ­nh xÃ¡c trong Google Cloud Console

### "KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u cho ngÃ y"
- Kiá»ƒm tra cá»™t B cÃ³ ngÃ y Ä‘Æ°á»£c chá»n khÃ´ng
- Format ngÃ y: DD/MM/YYYY hoáº·c YYYY-MM-DD

### "Access denied" 
- ChÆ°a authorize Google account
- Click "XÃ¡c Thá»±c Google Account"

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á»:
1. Check console logs (F12)
2. Reload extension
3. Refresh trang Ahrefs
4. Kiá»ƒm tra extension cÃ³ hoáº¡t Ä‘á»™ng trÃªn trang khÃ¡c khÃ´ng

---
**Version:** 2.0 | **TÆ°Æ¡ng thÃ­ch:** Chrome Extensions Manifest V3 | **Google Sheets API v4**
